(
game
 
"Ultimate Tic-Tac-Toe" 
(
players
 
3
) 
(
equipment
 
{
(
board
 
(
union
 
(
square
 
9
) 
(
scale
 
3.0 
(
square
 
2
)
)
) 
use:
Cell
) 
 
(
piece
 
"Disc" 
P1
) 
 
(
piece
 
"DiscLarge" 
P1
) 
 
(
piece
 
"Cross" 
P2
) 
 
(
piece
 
"CrossLarge" 
P2
) 
 
(
regions
 
"SubGames" 
(
sites
 
{
0 
 
2 
 
3 
 
2 
 
7 
 
7 
 
4 
 
11 
 
3 
 
7 
 
8 
 
15 
 
20 
 
11 
 
18 
 
14 
 
19 
 
20 
 
24 
 
27 
 
10 
 
15 
 
25 
 
9 
 
14 
 
21 
 
40 
 
41 
 
41 
 
21 
 
18 
 
33 
 
31 
 
15 
 
50 
 
15 
 
55 
 
43 
 
27 
 
39 
 
52 
 
50 
 
17 
 
48 
 
65 
 
64 
 
31 
 
37 
 
38 
 
70 
 
70 
 
63 
 
52 
 
21 
 
82 
 
48 
 
43 
 
76 
 
82 
 
77 
 
86 
 
63 
 
54 
 
71 
 
47 
 
67 
 
77 
 
41 
 
34 
 
109 
 
51 
 
73 
 
54 
 
102 
 
42 
 
52 
 
35 
 
118 
 
103 
 
33 
 
56
}
)
) 
 
(
regions
 
"SubGame0" 
(
sites
 
{
0 
 
1 
 
4 
 
13 
 
16 
 
18 
 
27 
 
7 
 
9
}
)
) 
 
(
regions
 
"SubGame1" 
(
sites
 
{
3 
 
5 
 
3 
 
16 
 
19 
 
18 
 
14 
 
14 
 
18
}
)
) 
 
(
regions
 
"SubGame2" 
(
sites
 
{
8 
 
11 
 
12 
 
22 
 
6 
 
12 
 
20 
 
24 
 
30
}
)
) 
 
(
regions
 
"SubGame3" 
(
sites
 
{
36 
 
16 
 
15 
 
39 
 
29 
 
38 
 
52 
 
70 
 
62
}
)
) 
 
(
regions
 
"SubGame4" 
(
sites
 
{
23 
 
24 
 
20 
 
18 
 
41 
 
23 
 
56 
 
35 
 
24
}
)
) 
 
(
regions
 
"SubGame5" 
(
sites
 
{
45 
 
39 
 
31 
 
33 
 
51 
 
35 
 
49 
 
23 
 
53
}
)
) 
 
(
regions
 
"SubGame6" 
(
sites
 
{
22 
 
87 
 
39 
 
77 
 
95 
 
63 
 
35 
 
101 
 
85
}
)
) 
 
(
regions
 
"SubGame7" 
(
sites
 
{
49 
 
49 
 
75 
 
78 
 
98 
 
52 
 
69 
 
61 
 
110
}
)
) 
 
(
regions
 
"SubGame8" 
(
sites
 
{
60 
 
43 
 
52 
 
79 
 
108 
 
28 
 
123 
 
41 
 
45
}
)
) 
 
(
regions
 
"SuperGame" 
(
sites
 
{
79 
 
111 
 
100 
 
42 
 
95 
 
36 
 
127 
 
83 
 
110
}
)
) 
 
(
map
 
"SubToSuper" 
{
0 
 
2 
 
3 
 
4 
 
6 
 
2 
 
3 
 
9 
 
4 
 
11 
 
6 
 
4 
 
19 
 
6 
 
8 
 
21 
 
15 
 
28 
 
24 
 
26 
 
27 
 
26 
 
20 
 
24 
 
22 
 
28 
 
28 
 
26 
 
33 
 
21 
 
33 
 
14 
 
46 
 
50 
 
27 
 
51 
 
56 
 
23 
 
54 
 
21 
 
29 
 
27 
 
20 
 
28 
 
33 
 
38 
 
40 
 
48 
 
64 
 
23 
 
77 
 
62 
 
43 
 
34 
 
61 
 
65 
 
50 
 
53 
 
82 
 
88 
 
56 
 
38 
 
31 
 
76 
 
66 
 
63 
 
60 
 
106 
 
28 
 
37 
 
59 
 
89 
 
100 
 
109 
 
112 
 
36 
 
36 
 
77 
 
122 
 
74 
 
111
} 
{
56 
 
123 
 
79 
 
55 
 
117 
 
127 
 
49 
 
58 
 
129 
 
71 
 
103 
 
46 
 
100 
 
73 
 
105 
 
58 
 
66 
 
52 
 
55 
 
67 
 
90 
 
68 
 
74 
 
99 
 
95 
 
38 
 
81 
 
117 
 
96 
 
128 
 
79 
 
107 
 
118 
 
121 
 
112 
 
104 
 
124 
 
36 
 
87 
 
112 
 
49 
 
65 
 
122 
 
137 
 
51 
 
97 
 
132 
 
48 
 
129 
 
34 
 
85 
 
101 
 
109 
 
90 
 
136 
 
42 
 
102 
 
116 
 
48 
 
83 
 
126 
 
70 
 
61 
 
51 
 
62 
 
37 
 
69 
 
58 
 
125 
 
84 
 
57 
 
58 
 
47 
 
37 
 
69 
 
83 
 
51 
 
55 
 
42 
 
42 
 
134
}
) 
 
(
map
 
"SubToSub" 
{
0 
 
0 
 
3 
 
2 
 
5 
 
8 
 
9 
 
9 
 
4 
 
13 
 
16 
 
5 
 
5 
 
7 
 
19 
 
21 
 
8 
 
12 
 
17 
 
25 
 
29 
 
29 
 
25 
 
16 
 
20 
 
36 
 
11 
 
17 
 
44 
 
24 
 
13 
 
45 
 
29 
 
44 
 
30 
 
55 
 
38 
 
45 
 
53 
 
26 
 
33 
 
17 
 
36 
 
20 
 
70 
 
62 
 
53 
 
40 
 
21 
 
69 
 
30 
 
79 
 
27 
 
54 
 
42 
 
68 
 
78 
 
52 
 
61 
 
28 
 
66 
 
88 
 
90 
 
45 
 
59 
 
102 
 
28 
 
75 
 
65 
 
78 
 
88 
 
104 
 
97 
 
93 
 
60 
 
91 
 
82 
 
60 
 
37 
 
85 
 
106
} 
{
0 
 
1 
 
3 
 
0 
 
1 
 
0 
 
0 
 
2 
 
1 
 
2 
 
2 
 
8 
 
2 
 
2 
 
6 
 
1 
 
3 
 
5 
 
8 
 
10 
 
4 
 
10 
 
6 
 
12 
 
5 
 
5 
 
8 
 
0 
 
1 
 
3 
 
0 
 
1 
 
0 
 
0 
 
2 
 
0 
 
4 
 
6 
 
5 
 
2 
 
5 
 
3 
 
2 
 
5 
 
8 
 
7 
 
5 
 
6 
 
5 
 
7 
 
3 
 
8 
 
4 
 
13 
 
0 
 
0 
 
1 
 
0 
 
2 
 
3 
 
0 
 
0 
 
1 
 
5 
 
2 
 
5 
 
2 
 
2 
 
4 
 
3 
 
5 
 
4 
 
5 
 
11 
 
6 
 
3 
 
8 
 
3 
 
7 
 
8 
 
7
}
)
}
) 
(
rules
 
(
play
 
(
priority
 
{
(
move
 
Add 
(
piece
 
(
if
 
(
=
 
(
mover
) 
P1
) 
(
id
 
"Disc" 
P1
) 
(
id
 
"Cross" 
P2
)
)
) 
(
to
 
(
if
 
(
=
 
0 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame0"
) 
(
if
 
(
=
 
2 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame1"
) 
(
if
 
(
=
 
3 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame2"
) 
(
if
 
(
=
 
2 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame3"
) 
(
if
 
(
=
 
6 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame4"
) 
(
if
 
(
=
 
4 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame5"
) 
(
if
 
(
=
 
6 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame6"
) 
(
if
 
(
=
 
11 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame7"
) 
(
if
 
(
=
 
6 
(
mapEntry
 
"SubToSub" 
(
last
 
To
)
)
) 
(
sites
 
"SubGame8"
)
)
)
)
)
)
)
)
)
) 
if:
(
and
 
(
is
 
Empty 
(
to
)
) 
(
is
 
Empty 
(
mapEntry
 
"SubToSuper" 
(
to
)
)
)
)
)
) 
 
(
move
 
Add 
(
piece
 
(
if
 
(
=
 
(
mover
) 
P1
) 
(
id
 
"Disc1"
) 
(
id
 
"Cross2"
)
)
) 
(
to
 
(
intersection
 
(
sites
 
"SubGames"
) 
(
sites
 
Empty
)
) 
if:
(
and
 
(
is
 
Empty 
(
to
)
) 
(
is
 
Empty 
(
mapEntry
 
"SubToSuper" 
(
to
)
)
)
)
)
)
} 
(
then
 
(
if
 
(
is
 
Line 
1 
if:
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame0"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame0"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame1"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame1"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame2"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame2"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame3"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame3"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame4"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame4"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame5"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame5"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame6"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame6"
)
) 
(
if
 
(
is
 
In 
(
last
 
To
) 
(
sites
 
"SubGame7"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame7"
)
) 
(
is
 
In 
(
to
) 
(
sites
 
"SubGame8"
)
)
)
)
)
)
)
)
)
)
) 
(
add
 
(
piece
 
(
if
 
(
=
 
(
mover
) 
P1
) 
(
id
 
"DiscLarge1"
) 
(
id
 
"CrossLarge2"
)
)
) 
(
to
 
(
mapEntry
 
"SubToSuper" 
(
last
 
To
)
)
)
)
)
)
)
) 
(
end
 
(
if
 
(
is
 
Line 
4 
throughAny:
(
sites
 
"SuperGame"
) 
Mover
) 
(
result
 
Mover 
Win
)
)
)
)
) 
